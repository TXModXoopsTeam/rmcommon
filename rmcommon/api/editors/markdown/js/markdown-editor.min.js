var mdEditor={editors:{},buttons:[],btn_tpl:'<button type="button" class="button" data-id="%id" data-editor="%e" accesskey="%k" title="%t">%c</button>',init:function(t,n){this.editors[t]=this.get(t,n),this.render_buttons(t),this.listeners()},get:function(t,n){return void 0==t||""==t?!1:CodeMirror.fromTextArea(document.getElementById(t),n)},add_button:function(t){return void 0==t.id||""==t.id?!1:void(this.buttons[this.buttons.length]={caption:t.caption,id:t.id,callback:t.callback,icon:t.icon,key:t.key,content:t.content})},render_buttons:function(t){for($toolbar=$("#"+t+"-buttons-container > .toolbar-1"),i=0;i<this.buttons.length;i++){var n=this.buttons[i],o=this.btn_tpl;o=o.replace("%id",i),o=o.replace("%k",n.key),o=o.replace("%e",t),void 0!=n.icon?(o=o.replace("%t",n.caption),o=o.replace("%c",'<span class="'+n.icon+'"></span>')):o=o.replace("%c",n.caption),$toolbar.append(o)}},listeners:function(){var t=this;$(".ed-container > .ed-buttons > .toolbar-1 > .button").click(function(){var n=$(this).data("id");if(!(void 0==n||0>n)&&void 0!=t.buttons[n]){var o=t.editors[$(this).data("editor")];if("function"==typeof t.buttons[n].callback)t.buttons[n].callback(o);else if("string"==typeof t.buttons[n].content){var i=o.getSelection(),e=o.getCursor(),c=t.buttons[n].content;""==i&&(e.ch+=c.split("%")[0].length),o.replaceSelection(c.replace("%",i)),""==i&&o.setCursor(e),o.focus()}}})}};!function(t){t.add_button({id:"bold",caption:"Bold",icon:"fa fa-bold",key:"b",callback:"",content:"**%**"}),t.add_button({id:"italic",caption:"Italic",icon:"fa fa-italic",key:"i",callback:"",content:"_%_"})}(mdEditor);
